"use strict";(self.webpackChunkteam_project_react=self.webpackChunkteam_project_react||[]).push([[327],{2107:function(e,a,r){r.r(a),r.d(a,{default:function(){return G}});var s="authorization_section__YDJo-",t="authorization_container__1Qybn",o="authorization_title__xBzIJ",n="authorization_text__xwyDo",i="authorization_titleIcon__-dDFQ",l="authorization_authBox__W9GVH",c=r(4942),u=r(1413),d=r(885),m=r(5048),h=r(2791),p=r(7255),f=r(5928),_=r(759),g="authForm_form__OoDKE",w="authForm_text__T8y8Z",x="authForm_googleBox__QAkvz",b="authForm_google__OTNSp",v="authForm_link__bvVNd",j="authForm_icon__VZs2+",y="authForm_iconText__u2tSI",F="authForm_input__LwUz2",N="authForm_label__yBznb",Z="authForm_btn__LMM+g",k="authForm_message__6uf+0",D="authForm_fieldBox__pGqjF";var E=r.p+"static/media/google-symbol.45390fe8c864f6ba12f2fcaab8463918.svg",T=r(5985),z=r(6602),C=r(184),A={email:"",password:""},B={emailDirty:!1,passwordDirty:!1},S={emailError:"This is a required field",passwordError:"This is a required field"},q=function(){var e=(0,h.useState)(A),a=(0,d.Z)(e,2),r=a[0],s=a[1],t=(0,h.useState)(S),o=(0,d.Z)(t,2),n=o[0],i=o[1],l=(0,h.useState)(B),q=(0,d.Z)(l,2),I=q[0],G=q[1],P=(0,h.useState)("true"),Q=(0,d.Z)(P,2),L=Q[0],O=Q[1],V=r.email,X=r.password,J=n.emailError,K=n.passwordError,M=I.emailDirty,W=I.passwordDirty,Y=(0,m.I0)(),H=(0,h.useContext)(p.N),U="dark"===H?z.Xx.elements:{},$="dark"===H?z.Xx.basic:{},R=(0,f.DW)(),ee=(0,d.Z)(R,1)[0],ae=(0,f.XQ)(),re=(0,d.Z)(ae,1)[0],se=(0,f.Kn)(),te=(0,d.Z)(se,1)[0],oe=function(e){if(s((function(a){return(0,u.Z)((0,u.Z)({},a),{},(0,c.Z)({},e.target.id,e.target.value.trim()))})),"password"===e.target.id&&(0!==e.target.value.length&&e.target.value.length<8?i((function(e){return(0,u.Z)((0,u.Z)({},e),{},{passwordError:"Password must be not less than 8 symbols"})})):e.target.value?i((function(e){return(0,u.Z)((0,u.Z)({},e),{},{passwordError:""})})):i((function(e){return(0,u.Z)((0,u.Z)({},e),{},{passwordError:"This is a required field"})}))),"email"===e.target.id){e.target.value?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(String(e.target.value).toLowerCase())?i((function(e){return(0,u.Z)((0,u.Z)({},e),{},{emailError:""})})):i((function(e){return(0,u.Z)((0,u.Z)({},e),{},{emailError:"Incorrect email format"})})):i((function(e){return(0,u.Z)((0,u.Z)({},e),{},{emailError:"This is a required field"})}))}},ne=function(e){switch(e.target.id){case"email":G((function(e){return(0,u.Z)((0,u.Z)({},e),{},{emailDirty:!0})}));break;case"password":G((function(e){return(0,u.Z)((0,u.Z)({},e),{},{passwordDirty:!0})}));break;default:return}};(0,h.useEffect)((function(){O(!J&&!K)}),[J,K]);return(0,C.jsxs)("form",{className:g,style:U,children:[(0,C.jsx)("p",{className:w,style:U,children:"You can log in with your Google Account:"}),(0,C.jsx)("div",{className:x,children:(0,C.jsxs)("div",{className:b,style:$,children:[(0,C.jsx)("img",{className:j,src:E,alt:""}),(0,C.jsx)("span",{className:y,children:"Google"}),(0,C.jsx)("a",{className:v,onClick:function(){te().then(console.log)},href:"https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&client_id=665888736356-aq6fvfmau6mupt4nfbms5tfch0u2698i.apps.googleusercontent.com&prompt=consent&redirect_uri=https%3A%2F%2Fkapusta-backend.goit.global%2Fauth%2Fgoogle-redirect&response_type=code&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile",children:""})]})}),(0,C.jsx)("p",{className:w,style:U,children:"Or log in using an email and password, after registering:"}),(0,C.jsx)("label",{className:N,htmlFor:"email",children:"Email:"}),(0,C.jsxs)("div",{className:D,children:[(0,C.jsx)("input",{style:$,onBlur:ne,onChange:oe,value:V,id:"email",className:F,placeholder:"your@mail.com",type:"email"}),M&&J&&(0,C.jsx)("p",{className:k,children:J})]}),(0,C.jsx)("label",{className:N,htmlFor:"password",children:"Password:"}),(0,C.jsxs)("div",{className:D,children:[(0,C.jsx)("input",{style:$,onBlur:ne,onChange:oe,value:X,id:"password",className:F,placeholder:"password",type:"password"}),W&&K&&(0,C.jsx)("p",{className:k,children:K})]}),(0,C.jsx)("button",{className:Z,type:"button",onClick:function(){null!==r&&void 0!==r&&r.email||null!==r&&void 0!==r&&r.password?re(r).unwrap().then((function(e){Y((0,_.av)({email:e.userData.email,token:e.accessToken,refreshToken:e.refreshToken,sid:e.sid,balance:e.userData.balance})),s(A)})).catch((function(e){return T.Am.error(e.data.message)})):T.Am.warn("Please enter your email and password")},disabled:!L,children:"log in"}),(0,C.jsx)("button",{className:Z,type:"button",onClick:function(){null!==r&&void 0!==r&&r.email||null!==r&&void 0!==r&&r.password?ee(r).unwrap().then((function(){return re(r).unwrap().then((function(e){Y((0,_.av)({email:e.userData.email,balance:e.userData.balance,token:e.accessToken,refreshToken:e.refreshToken,sid:e.sid})),s(A)}))})).catch((function(e){return T.Am.error(e.data.message)})):T.Am.warn("Please enter email and password for registration")},disabled:!L,children:"registration"})]})};var I=r.p+"static/media/kapusta.1bb80c24b251605c4e8bc52f08c90c02.svg",G=function(){var e="dark"===(0,h.useContext)(p.N)?{background:"#2c3639",color:"white"}:{};return(0,C.jsx)("section",{className:s,style:e,children:(0,C.jsx)("div",{className:t,children:(0,C.jsxs)("div",{className:l,children:[(0,C.jsxs)("div",{className:o,children:[(0,C.jsx)("img",{className:i,src:I,alt:""}),(0,C.jsx)("p",{className:n,children:"smart finance"})]}),(0,C.jsx)(q,{})]})})})}}}]);
//# sourceMappingURL=authorization.21445773.chunk.js.map